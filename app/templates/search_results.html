{% extends "base.html" %}
{% block body %}

<div class="container my-5">
  <h3 class="text-primary mb-4 animate__animated animate__fadeIn">
    <i class="bi bi-search"></i> Search Results for: "{{ query }}"
  </h3>

  {% if products %}
    <div class="row g-4">
      {% for product in products %}
      <div class="col-6 col-md-4 col-lg-3">
        <div class="card shadow-sm h-100 card-hover animate__animated animate__fadeInUp">
          <!-- Product Image -->
          <img src="{{ url_for('static', filename='uploads/' ~ product.main_image) if product.main_image else '/static/images/default.png' }}" 
               class="card-img-top product-img" alt="{{ product.name }}" style="height:200px; object-fit:cover;">

          <div class="card-body d-flex flex-column">
            <h6 class="card-title fw-bold">{{ product.name }}</h6>
            <p class="text-muted small mb-1">{{ product.categories }}</p>
            <p class="fw-bold text-primary mb-3">${{ "%.2f"|format(product.price) }}</p>

            <a href="{{ url_for('product_detail', product_id=product.id) }}" 
               class="btn btn-outline-primary mt-auto btn-hover-scale w-100">
              <i class="bi bi-box-arrow-up-right"></i> View Details
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info text-center shadow-sm mt-4">
      <i class="bi bi-info-circle"></i> No products found matching your search.
    </div>
  {% endif %}
</div>

<style>
  /* Card hover shadow */
  .card-hover {
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .card-hover:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  }

  /* Button hover scale */
  .btn-hover-scale {
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .btn-hover-scale:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
  }

  /* Product image smooth hover zoom */
  .product-img {
    transition: transform 0.3s;
  }
  .card-hover:hover .product-img {
    transform: scale(1.05);
  }
</style>

<!-- Animate.css -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

{% endblock %}
